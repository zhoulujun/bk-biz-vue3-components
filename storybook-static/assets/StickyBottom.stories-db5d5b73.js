import{d as h}from"./index.esm-3f2bcfb7.js";import{M as x,e as g}from"./chunk-PCJTTTQV-1004926f.js";import{d as v,a as m,b,o as B,e as S,c as n,s as k,F as j}from"./vue.esm-bundler-2bd5134c.js";import{j as o}from"./jsx-runtime-cee5dfd6.js";import{u as p}from"./index-65a847d9.js";import"./iframe-c6f387a4.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-87174ba5.js";import"./index-d475d2ea.js";import"./index-d37d4223.js";import"./index-7df6c959.js";import"./index-356e4a49.js";const s=v({name:"StickyBottom",props:{offsetTarget:{type:Function,default:()=>null},isFixed:Boolean,paddingLeft:{type:Number,default:60},to:{type:String,default:"body"}},setup(e){const t=m(null),i=m(!0),y=b(()=>({position:e.isFixed?"fixed":"absolute",paddingLeft:`${e.paddingLeft}px`}));return B(()=>{let a=new IntersectionObserver(u=>{console.log(u[0].intersectionRatio),u[0].intersectionRatio>0?i.value=!0:i.value=!1},{threshold:[.1]}),d=setTimeout(()=>{t.value&&a.observe(t.value),clearTimeout(d),d=null},200);S(()=>{a.disconnect(),a=null})}),{placeholderRef:t,isShowPlaceholder:i,dynamicStyles:y}},render(){var e;return n(j,null,[n("div",{ref:"placeholderRef"},[(e=this.$slots)==null?void 0:e.default()]),this.isShowPlaceholder?"":n(k,{disabled:!this.isFixed,to:this.to},{default:()=>{var t;return[n("div",{ref:"actionRef",class:"smart-action-box",style:this.dynamicStyles},[(t=this.$slots)==null?void 0:t.default()])]}})])}}),f=e=>({components:{StickyBottom:s,Button:h},setup(){return{args:e}},template:'<div style="height: 300px;position: relative;overflow: auto;border: 1px solid #ccc;"><div style="height: 100%;overflow: auto;">父容器高度600<div style="height:1500px;">高度1500填充</div><StickyBottom v-bind="args" ><Button  class="mr-min" theme="primary">下一步</Button></StickyBottom></div><div>'});function c(e){const t=Object.assign({h1:"h1",p:"p"},p(),e.components);return o.jsxs(o.Fragment,{children:[o.jsx(x,{title:"Example/StickyBottom",argTypes:{isFixed:{type:{name:"boolean",required:!1},defaultValue:!1,control:"boolean"},paddingLeft:{type:{name:"number",required:!1},defaultValue:60,control:"number"},to:{description:"插入元素",defaultValue:"body",control:"text"}},component:s}),`
`,`
`,o.jsx(t.h1,{id:"stickybottom",children:"StickyBottom"}),`
`,o.jsx(t.p,{children:"吸底，表单提交按钮，自动吸底。"}),`
`,o.jsx(g,{name:"Primary",args:{paddingLeft:120},children:f.bind({})})]})}function F(e={}){const{wrapper:t}=Object.assign({},p(),e.components);return t?o.jsx(t,{...e,children:o.jsx(c,{...e})}):c(e)}const l=f.bind({});l.storyName="Primary";l.args={paddingLeft:120};l.parameters={storySource:{source:`args => ({
  components: {
    StickyBottom,
    Button
  },
  setup() {
    return {
      args
    };
  },
  template: "<div style=\\"height: 300px;position: relative;overflow: auto;border: 1px solid #ccc;\\"><div " + "style=\\"height: 100%;overflow: auto;\\">\\u7236\\u5BB9\\u5668\\u9AD8\\u5EA6600<div " + "style=\\"height:1500px;" + "\\">\\u9AD8\\u5EA61500\\u586B\\u5145</div><StickyBottom " + "v-bind=\\"args\\" " + "><Button  " + "class=\\"mr-min\\" " + "theme=\\"primary\\">\\u4E0B\\u4E00\\u6B65</Button></StickyBottom></div><div>"
})`}};const r={title:"Example/StickyBottom",component:s,argTypes:{isFixed:{type:{name:"boolean",required:!1},defaultValue:!1,control:"boolean"},paddingLeft:{type:{name:"number",required:!1},defaultValue:60,control:"number"},to:{description:"插入元素",defaultValue:"body",control:"text"}},tags:["stories-mdx"],includeStories:["primary"]};r.parameters=r.parameters||{};r.parameters.docs={...r.parameters.docs||{},page:F};const P=["Template","primary"];export{f as Template,P as __namedExportsOrder,r as default,l as primary};
//# sourceMappingURL=StickyBottom.stories-db5d5b73.js.map
